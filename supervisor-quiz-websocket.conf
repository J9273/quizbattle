; Quiz Application WebSocket Server
; Supervisor configuration file
;
; Installation:
; 1. Copy this file to /etc/supervisor/conf.d/quiz-websocket.conf
; 2. Edit paths to match your installation
; 3. Run: sudo supervisorctl reread
; 4. Run: sudo supervisorctl update
; 5. Run: sudo supervisorctl start quiz-websocket
; 6. Check status: sudo supervisorctl status quiz-websocket

[program:quiz-websocket]
command=/usr/bin/php /var/www/html/quiz-app-websocket/websocket-server.php
directory=/var/www/html/quiz-app-websocket
user=www-data
group=www-data

; Auto-start and restart
autostart=true
autorestart=true
startretries=10
startsecs=10

; Process management
numprocs=1
process_name=%(program_name)s_%(process_num)02d
priority=999

; Logging
stdout_logfile=/var/log/quiz-websocket/output.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10
stderr_logfile=/var/log/quiz-websocket/error.log
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=10

; Additional options
redirect_stderr=false
stopwaitsecs=60
killasgroup=true
stopasgroup=true

; Environment variables (if needed)
;environment=PHP_ENV="production"
